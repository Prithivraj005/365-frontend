/* ───────────────────────────────
   MAIN CONTAINER
──────────────────────────────── */
.dashboard-container {
  text-align: center;
  padding: 18px 12px 50px;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  position: relative;
}

/* ───────────────────────────────
   MOOD PALETTE
──────────────────────────────── */
.mood-palette-fixed {
  position: fixed;
  top: 64px;
  left: 12px;
  display: flex;
  gap: 10px;
  z-index: 1800;
  align-items: center;
}
.mood-item { text-align: center; font-size: 11px; }
.mood-dot { width: 18px; height: 18px; border-radius: 50%; display: block; margin: 0 auto 4px; }
.mood-count { font-size: 10px; color: #222; }

/* Mood Colors */
.mood-green { background: #4CAF50; }
.mood-red { background: #E53935; }
.mood-yellow { background: #FBC02D; }
.mood-black { background: #000; color:#fff; }

/* ───────────────────────────────
   MONTH HEADER
──────────────────────────────── */
.month-header {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}
.month-btn,
.month-title {
  background: #1976d2;
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 600;
}
.month-btn { padding: 6px 12px; cursor: pointer; }
.month-title { padding: 6px 18px; }

/* ───────────────────────────────
   DAY GRID
──────────────────────────────── */
.grid-container {
  display: grid;
  grid-template-columns: repeat(6, 100px);
  gap: 50px;
  justify-content: center;
  padding-bottom: 60px;
}

.day-circle {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: #eee;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  position: relative;
  transition: transform .12s ease, box-shadow .12s ease;
}
.day-circle:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 14px rgba(0,0,0,0.12);
}
.day-circle.locked-empty { background: #000; cursor: default; }
.circle-number {
  font-weight: 700;
  z-index: 2;
}

/* Mood picker sign */
.add-mood-btn {
  position: absolute;
  bottom: -12px;
  width: 26px;
  height: 26px;
  border-radius: 50%;
  border: 1px solid #bdbdbd;
  background: white;
  cursor: pointer;
  font-weight: bold;
  z-index: 20;
}

/* Mood selection popup */
.mood-popup {
  position: absolute;
  bottom: -56px;
  display: flex;
  gap: 8px;
  z-index: 2000;
}
.mood-choice {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border:2px solid #fff;
  cursor:pointer;
}

/* ───────────────────────────────
   POPUP (White Sheet)
──────────────────────────────── */
.popup-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 3000;
}
.white-sheet {
  width: 80vw;
  height: 80vh;
  background: white;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
.sheet-header {
  padding: 12px 16px;
  border-bottom: 1px solid #eee;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* ───────────────────────────────
   POPUP BODY LAYOUT
──────────────────────────────── */
.sheet-body {
  flex: 1;
  display: flex;
  gap: 10px;
  padding: 10px;
  overflow: hidden;
}

/* LEFT: MEDIA */
.sheet-left {
  width: 40%;
  min-width: 260px;
  border-right: 1px solid #eee;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.media-tabs {
  display:flex;
  justify-content: space-between;
  padding: 6px;
}
.media-tab {
  flex:1;
  padding: 6px;
  border:none;
  cursor:pointer;
  background:#eee;
  border-radius:8px;
  font-weight:600;
  margin-right:6px;
}
.media-tab.active {
  background:#1976d2;
  color:white;
}
.delete-media-btn {
  background:#E53935;
  color:white;
  border:none;
  padding:4px 6px;
  border-radius:6px;
  cursor:pointer;
}

/* Fixed preview size */
.media-preview {
  flex:1;
  width:100%;
  background:#fafafa;
  border-radius:10px;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}
.preview-media {
  max-width:100%;
  max-height:100%;
  border-radius:8px;
}

/* RIGHT: TEXT */
.sheet-right {
  width: 60%;
  flex:1;
  display:flex;
  flex-direction:column;
  overflow-y:auto;
}
.sheet-textarea {
  flex:1;
  padding:10px;
  border:1px solid #ddd;
  border-radius:8px;
}
.sheet-view-text {
  flex:1;
  padding:10px;
  border:1px solid #eee;
  border-radius:8px;
  white-space:pre-wrap;
}

/* ───────────────────────────────
   RESPONSIVE
──────────────────────────────── */
@media (max-width:900px){
  .white-sheet {
    width:94vw;
    height:90vh;
  }
  .sheet-body {
    flex-direction: column;
  }
  .sheet-left,
  .sheet-right {
    width:100%;
    min-height:50%;
    border:none;
  }
}
#smallDecoration1, #smallDecoration2 {
  position: absolute;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  z-index: 1000;
}

/* Top-left circle below Logout */
#smallDecoration1 {
  top: 60px;
  left: 20px;
  background-color: #ff6b6b !important;
}

/* One near the + Add tile */
#smallDecoration2 {
  top: 180px;
  left: 33.33%;
  background-color: #4d96ff !important;
}
@media (prefers-color-scheme: dark) {
  #smallDecoration1 { background-color: #ff4b4b !important; }
  #smallDecoration2 { background-color: #2e7aff !important; }
}

/* ===========================
   FORCED MOOD COLORS (paste at BOTTOM)
   Only this block — no other changes
   =========================== */

/* Top palette dots (covers both 'mood-dot green' and 'mood-dot mood-green') */
.mood-palette-fixed .mood-dot.green,
.mood-palette-fixed .mood-dot.mood-green,
.mood-dot.green,
.mood-dot.mood-green {
  background-color: #4CAF50 !important; /* green */
}

.mood-palette-fixed .mood-dot.yellow,
.mood-palette-fixed .mood-dot.mood-yellow,
.mood-dot.yellow,
.mood-dot.mood-yellow {
  background-color: #FBC02D !important; /* yellow */
}

.mood-palette-fixed .mood-dot.red,
.mood-palette-fixed .mood-dot.mood-red,
.mood-dot.red,
.mood-dot.mood-red {
  background-color: #E53935 !important; /* red */
}

.mood-palette-fixed .mood-dot.black,
.mood-palette-fixed .mood-dot.mood-black,
.mood-dot.black,
.mood-dot.mood-black {
  background-color: #000 !important; /* black */
  color: #fff !important;
}

/* Mood picker options inside the little popup */
.mood-popup .mood-choice.mood-green,
.mood-popup .mood-choice.green,
.mood-choice.mood-green,
.mood-choice.green {
  background-color: #4CAF50 !important;
  border-color: #fff !important;
}
.mood-popup .mood-choice.mood-yellow,
.mood-popup .mood-choice.yellow,
.mood-choice.mood-yellow,
.mood-choice.yellow {
  background-color: #FBC02D !important;
  border-color: #fff !important;
}
.mood-popup .mood-choice.mood-red,
.mood-popup .mood-choice.red,
.mood-choice.mood-red,
.mood-choice.red {
  background-color: #E53935 !important;
  border-color: #fff !important;
}
.mood-popup .mood-choice.mood-black,
.mood-popup .mood-choice.black,
.mood-choice.mood-black,
.mood-choice.black {
  background-color: #000 !important;
  border-color: #fff !important;
}

/* If the day circles themselves have mood classes (e.g. <div class="day-circle mood-green">),
   ensure the circle color remains visible and text readable. */
.day-circle.mood-green { background-color: #4CAF50 !important; color: #fff !important; }
.day-circle.mood-yellow { background-color: #FBC02D !important; color: #111 !important; }
.day-circle.mood-red { background-color: #E53935 !important; color: #fff !important; }
.day-circle.mood-black { background-color: #000 !important; color: #fff !important; }

/* Add a small mood dot INSIDE the day circle using a pseudo-element
   so you get a tiny indicator even if the circle color is not changed.
   This requires no JSX changes. It shows under the day number. */
.day-circle.mood-green::after,
.day-circle.mood-yellow::after,
.day-circle.mood-red::after,
.day-circle.mood-black::after {
  content: "";
  position: absolute;
  bottom: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 14px;
  height: 14px;
  border-radius: 50%;
  box-shadow: 0 1px 3px rgba(0,0,0,0.18);
  border: 2px solid #fff;
  z-index: 6;
}
.day-circle.mood-green::after { background: #4CAF50 !important; }
.day-circle.mood-yellow::after { background: #FBC02D !important; }
.day-circle.mood-red::after { background: #E53935 !important; }
.day-circle.mood-black::after { background: #000 !important; }

/* If your code uses a different naming for tiny indicators inside day (e.g. .mood-indicator-small),
   ensure those get colored too (defensive coverage). */
.mood-indicator-small.happy,
.mood-indicator-small.mood-green { background: #4CAF50 !important; }
.mood-indicator-small.sad,
.mood-indicator-small.mood-red { background: #E53935 !important; }
.mood-indicator-small.neutral,
.mood-indicator-small.mood-yellow { background: #FBC02D !important; }
.mood-indicator-small.locked,
.mood-indicator-small.mood-black { background: #000 !important; }

/* Ensure top smallDecoration1/2 still visible (you already had these; reinforcing) */
#smallDecoration1 { z-index: 9999 !important; background-color: #ff6b6b !important; }
#smallDecoration2 { z-index: 9999 !important; background-color: #4d96ff !important; }
/* ===========================
   SMALL, SAFE ADJUSTMENTS
   Paste this at the VERY BOTTOM of Dashboard.css
   (Only this block — no other edits)
   =========================== */

/* 1) When the popup/modal is open, ensure the mood-picker dots inside the popup
   appear centered under the + and do NOT overlap the calendar grid.
   This targets the little .mood-popup that appears while editing in the modal. */
.white-sheet .mood-popup {
  position: relative !important;     /* avoid absolute placement that overlaps grid */
  bottom: auto !important;
  left: auto !important;
  transform: none !important;
  display: flex !important;
  justify-content: center !important;
  gap: 10px !important;
  margin: 8px auto 0 !important;     /* small gap below the + inside the sheet */
  z-index: 1500 !important;          /* keep it above media preview but inside sheet */
  padding: 6px 0 !important;
  background: transparent !important;/* remove any opaque background */
}

/* increase tappable size without changing visual size */
.white-sheet .mood-popup .mood-choice {
  width: 18px !important;
  height: 18px !important;
  border-radius: 50% !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12);
}

/* 2) Some mood pickers are rendered relative to the day-circle (outside popup).
   Make sure those keep their normal behavior but are not overlapping when modal is open.
   We keep these small and slightly above the day number. */
.grid-container .mood-popup {
  position: absolute !important;
  bottom: -56px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  display: flex !important;
  gap: 8px !important;
  padding: 6px !important;
  z-index: 1200 !important;
}

/* 3) Remove the white inner ring / extra circle that appears within the black day circle.
   This targets common variant classnames used in your markup (defensive). */
.day-circle .inner-circle,
.day-circle .circle-inner,
.day-circle .day-inner,
.day-circle .inner {
  display: none !important;
}

/* also remove any pseudo-element based inner rings if present */
.day-circle::before,
.day-circle::after {
  /* If pseudo-element is used for inner ring we keep the pseudo-element only for mood dot,
     but hide any white 'ring' style by resetting border/background */
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
}

/* 4) If the day itself uses mood class names (e.g. .day-circle.mood-green),
   show a small colored indicator with clean border and keep the circle visuals intact. */
.day-circle.mood-green::after,
.day-circle.mood-yellow::after,
.day-circle.mood-red::after,
.day-circle.mood-black::after {
  content: "";
  position: absolute;
  bottom: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid #fff;
  z-index: 6;
}
.day-circle.mood-green::after { background: #4CAF50 !important; }
.day-circle.mood-yellow::after { background: #FBC02D !important; }
.day-circle.mood-red::after { background: #E53935 !important; }
.day-circle.mood-black::after { background: #000 !important; }

/* 5) If there are tiny indicator elements (defensive coverage) use these rules so they
   render cleanly and do not create white rings on top of dark circles. */
.mood-indicator-small,
.mood-dot,
.mood-choice {
  box-sizing: border-box !important;
  border-radius: 50% !important;
  border: 2px solid #fff !important; /* white border helps visibility on light bg; overridden below for top palette */
}

/* 6) Top-left palette: ensure colors are visible and not overridden */
.mood-palette-fixed .mood-dot.green,
.mood-palette-fixed .mood-dot.mood-green { background: #4CAF50 !important; border: 2px solid rgba(0,0,0,0.05) !important; }
.mood-palette-fixed .mood-dot.yellow,
.mood-palette-fixed .mood-dot.mood-yellow { background: #FBC02D !important; border: 2px solid rgba(0,0,0,0.05) !important; }
.mood-palette-fixed .mood-dot.red,
.mood-palette-fixed .mood-dot.mood-red { background: #E53935 !important; border: 2px solid rgba(0,0,0,0.05) !important; }
.mood-palette-fixed .mood-dot.black,
.mood-palette-fixed .mood-dot.mood-black { background: #000 !important; border: 2px solid rgba(255,255,255,0.6) !important; color: #fff !important; }

/* 7) Ensure the little forced decorative circles (#smallDecoration1/#smallDecoration2)
   remain visible above everything (you already use them). */
#smallDecoration1, #smallDecoration2 {
  z-index: 9999 !important;
  pointer-events: none;
}

/* 8) Small responsive nudge — if still overlapping on narrow screens, bump mood popup down */
@media (max-width: 900px) {
  .white-sheet .mood-popup { margin-top: 14px !important; }
  .grid-container .mood-popup { bottom: -64px !important; }
}













/* =========================
   STRONG MOBILE OVERRIDE
   Paste at very bottom of CSS
   ========================= */

/* apply only for screens <= 768px */
@media (max-width: 768px) {

  /* --- force 2 columns for a lot of possible grid classnames --- */
  .grid-container,
  .dashboard,
  .grid,
  .days-grid,
  .daysContainer,
  .days_container,
  .daysGrid,
  .calendar-grid,
  .day-grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 22px 18px !important;
    justify-items: center !important;
    align-items: center !important;
    padding: 12px !important;
    margin: 0 auto !important;
    width: 100% !important;
  }

  /* --- circular items (many variants) --- */
  .day-circle,
  .day,
  .day-tile,
  .tile,
  .grid-item,
  .dayBox,
  .day-item,
  .daycell {
    width: 100px !important;
    height: 100px !important;
    min-width: 92px !important;
    min-height: 92px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    background: var(--day-bg, #f4f4f4) !important;
    box-shadow: 0 4px 10px rgba(0,0,0,0.12) !important;
    position: relative !important;
    z-index: 1 !important;
    overflow: visible !important;
    cursor: pointer !important;
  }

  /* ensure no overlap from children */
  .day-circle * ,
  .day * ,
  .grid-item * {
    pointer-events: auto !important;
  }

  /* --- center the small mood/color popup inside the circle --- */
  .color-popup,
  .day-color-picker,
  .mood-popup,
  .color-picker,
  .palette-popup {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    display: flex !important;
    gap: 8px !important;
    padding: 6px 8px !important;
    background: #fff !important;
    border-radius: 12px !important;
    box-shadow: 0 6px 16px rgba(0,0,0,0.18) !important;
    z-index: 9999 !important;
    width: auto !important;
    max-width: 84% !important;
    justify-content: center !important;
    align-items: center !important;
    overflow: visible !important;
  }

  /* color options inside */
  .color-option,
  .color-dot,
  .mood-choice,
  .day-color {
    width: 22px !important;
    height: 22px !important;
    border-radius: 50% !important;
    border: 2px solid #fff !important;
    box-shadow: 0 2px 6px rgba(0,0,0,0.12) !important;
    cursor: pointer !important;
  }

  /* keep the picker clickable but not overlapping adjacent cells */
  .day-circle > .color-popup,
  .day > .color-popup,
  .day-tile > .color-popup,
  .tile > .color-popup {
    pointer-events: auto !important;
  }

  /* --- MEDIA VIEW (popup + inline variants) --- */
  /* Modal-style media popup */
  .media-popup,
  .media-modal,
  .viewer-modal,
  .preview-modal {
    position: fixed !important;
    inset: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: rgba(0,0,0,0.7) !important;
    z-index: 100000 !important;
    padding: 12px !important;
  }

  .media-popup-content,
  .media-modal .content,
  .preview-modal .content,
  .viewer-modal .content,
  .media-view {
    background: #fff !important;
    border-radius: 14px !important;
    padding: 0 !important; /* remove inner padding so media is full width */
    width: 100% !important;
    max-width: 940px !important;
    max-height: 86vh !important;
    display: flex !important;
    flex-direction: column !important; /* stack media + text */
    align-items: center !important;
    gap: 0 !important;
    overflow-y: auto !important; /* scrollable popup */
  }

  /* make media bigger on top */
  .media-popup-content img,
  .media-popup-content video,
  .media-view img,
  .media-view video,
  .media-container img,
  .media-container video,
  .preview-media,
  .sheet-left .preview-media,
  .white-sheet .preview-media {
    width: 100% !important;
    max-height: 80vh !important; /* bigger than before */
    height: auto !important;
    object-fit: cover !important;
    border-radius: 0 !important; /* full width */
    box-shadow: 0 8px 24px rgba(0,0,0,0.2) !important;
    display: block !important;
    margin-bottom: 0 !important;
  }

  /* text/caption below media */
  .media-text,
  .text-section,
  .sheet-view-text,
  .caption-box,
  .media-caption {
    width: 100% !important;
    font-size: 15px !important;
    line-height: 1.6 !important;
    padding: 12px !important;
    background: rgba(255,255,255,0.96) !important;
    border-radius: 0 !important; /* flat under media */
    margin: 0 !important;
    overflow: visible !important;
  }

  /* avoid inner scroll on sheet-left in responsive popups:
     let the entire popup scroll, not the left block */
  .sheet-left,
  .white-sheet .sheet-left,
  .media-preview,
  .media-container {
    max-height: none !important;
    overflow: visible !important;
  }

  /* ensure HTML/body don't cause horizontal scroll */
  html, body, #root {
    overflow-x: hidden !important;
  }
}

/* smaller phones adjustments */
@media (max-width: 420px) {
  .day-circle,
  .day,
  .grid-item,
  .day-tile {
    width: 92px !important;
    height: 92px !important;
    font-size: 13px !important;
  }
  .color-option,
  .color-dot,
  .mood-choice { width: 20px !important; height: 20px !important; }
  .media-popup-content,
  .media-view { padding: 8px !important; }
}
